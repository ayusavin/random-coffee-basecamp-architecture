# 7. Выбор платформы развертывания

## Статус

Принято

## Контекст

Необходимо выбрать платформу для развертывания бота с учетом выбранного стека технологий (Deno/TypeScript).

Требования:
- Поддержка Deno
- Простота развертывания
- Масштабируемость
- Разумная стоимость
- Поддержка фоновых задач

## Решение

Использовать следующий стек для развертывания:
- Deno Deploy для основного приложения
- Deno KV для кэширования и очередей сообщений
- Managed PostgreSQL (например, Neon или Supabase)

Причины выбора:
1. Deno Deploy:
   - Нативная поддержка Deno
   - Автоматическое масштабирование
   - Глобальное распределение
   - Простота деплоя
   - Разумное бесплатное использование

2. Deno KV:
   - Встроенная поддержка в Deno Deploy
   - Подходит для кэширования состояний
   - Может использоваться как очередь сообщений
   - Глобальная репликация

3. Managed PostgreSQL:
   - Отсутствие необходимости в администрировании
   - Автоматическое резервное копирование
   - Масштабируемость
   - Поддержка PostGIS

## Последствия

### Положительные
- Простота развертывания и обновления
- Автоматическое масштабирование
- Минимальные операционные затраты
- Предсказуемая стоимость

### Отрицательные
- Зависимость от облачных провайдеров
- Возможные ограничения бесплатных тарифов
- Необходимость управления несколькими сервисами
